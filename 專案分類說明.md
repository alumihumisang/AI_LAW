# AI Law 專案檔案分類說明

## 資料夾結構與檔案分類

### 01_設定與配置
- `.env` - 環境變數配置
- `pyproject.toml` - Python專案配置
- `poetry.lock` - 依賴鎖定檔案
- `law_articles.ini` - 法條設定檔

### 02_資料處理與建立
- `Embedding_model_setting.py` - 嵌入模型設定
- `text_processor.py` - 文本處理器
- `Elasticsearch_utils.py` - Elasticsearch工具
- `Neo4j_manager_utils.py` - Neo4j管理工具
- `ts_models.py` - 模型管理

### 03_知識圖譜建構
- `KG_100_setting.py` - 知識圖譜初始設定
- `KG_200_setting_laws_extend.py` - 法條擴展
- `KG_300_setting_compensation_extend.py` - 賠償擴展
- `KG_400_setting_conclusion_extend.py` - 結論擴展
- `KG_500_setting_lawyer_input.py` - 律師輸入處理

### 04_向量化與索引
- `KG_550_generate_semantic_summary.py` - 語義摘要生成
- `KG_600_Vectorize_And_Store_ES_Final_With_New.py` - 向量化存儲
- `KG_650_Vectorize_Paragraph_Summaries.py` - 段落摘要向量化

### 05_語義檢索與分析
- `KG_675_Query_Semantic_ES.py` - 語義查詢
- `ts_retrieval_system.py` - 檢索系統主控制器
- `ts_retrieve_main.py` - 主要檢索程式
- `ts_retrieve_main_nocot.py` - 無CoT檢索程式
- `ts_define_case_type.py` - 案件類型定義
- `ts_input_filter.py` - 輸入過濾器
- `ts_prompt.py` - 提示詞模板

### 06_批量處理與生成
- `KG_690_Patch_Compensation_To_Chunks.py` - 賠償修補
- `KG_695_Patch_CaseType_FromLawyerInput_Optimized.py` - 案件類型修補
- `KG_700_BatchExcel_v9_clean.py` - Excel批量處理
- `KG_700_BatchSemanticSearcher_v5_with_dual_prompt_and_case_type.py` - 雙提示語義搜索
- `KG_700_BatchSemanticSearcher_v6.py` - 語義搜索v6
- `KG_700_BatchSemanticSearcher_v7_for_excel.py` - Excel語義搜索
- `KG_800_Run.py` - 主要運行程式

### 07_測試與驗證
- `KG_test.py` - 測試程式
- `KG_700_v10_CoT_FormatTester.py` - CoT格式測試器
- `KG_700_v9_RoleAware_NameExtractor.py` - 角色感知名稱提取器
- `ts_prompt_check.py` - 提示詞檢查
- `KG_delete_and_rebuild_conclusion.py` - 結論重建

### 08_日誌與記錄
- `embedding_log_*.txt` - 嵌入處理日誌
- `index_chunks_log_*.txt` - 索引建立日誌
- `neo4j_log_*.txt` - Neo4j操作日誌
- `vectorize_log_*.txt` - 向量化處理日誌
- `last_success_case_id.txt` - 最後成功案例ID

### 09_輸入輸出資料
- `2017.xlsx` - 歷史資料
- `2995_測試用50筆_2025.6.xlsx` - 測試資料
- `missing_case_id_nodes.xlsx` - 缺失案例ID
- `semantic_summaries.jsonl` - 語義摘要
- 各種律師輸入、模擬輸入、整合輸出Excel檔案
- 分類結果CSV檔案

### 10_文檔與腳本
- `README.md` - 專案說明文檔
- `Record.sh` - 記錄腳本

## 工作流程說明

1. **設定階段**: 配置環境變數、模型參數、資料庫連線
2. **資料建立**: 初始化資料處理工具和模型
3. **知識圖譜**: 建構法律知識圖譜結構
4. **向量化**: 將文本轉換為向量並建立索引
5. **檢索分析**: 執行語義搜索和案件分析
6. **批量處理**: 大量案件的自動化處理
7. **測試驗證**: 系統功能測試和品質控制
8. **日誌記錄**: 系統運行記錄和監控
9. **資料管理**: 輸入輸出資料的管理
10. **文檔維護**: 專案文檔和輔助腳本

此分類有助於：
- 快速定位特定功能的程式碼
- 理解系統工作流程
- 維護和更新特定模組
- 新成員快速上手專案結構